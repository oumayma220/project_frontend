<div class="container">
    <div class="header-container">
        <button mat-button class="return-button" (click)="retourListeTiers()">
        <mat-icon>arrow_back</mat-icon> Retour
      </button>
    </div>

    @if (isLoading) {
    <div class="loading-container">
        <mat-spinner diameter="40"></mat-spinner>
        <p class="loading-text">Chargement des produits...</p>
    </div>
    } @else { @if (products.length > 0) {
    <div class="products-grid">
        @for (product of products; track product.reference) {
        <mat-card class="product-card">
            <div class="product-banner"></div>
            <mat-card-header>
                <mat-card-title class="product-title">{{ product.name }}</mat-card-title>
                <img src="{{ product.url }}" alt="{{ product.name }}" class="product-image"> @if (product.price) {
                <mat-card-subtitle class="price">{{ product.price }} DT</mat-card-subtitle>
                }
            </mat-card-header>
            <mat-card-content>
                @if (product.description) {
                <p class="description">{{ product.description }}</p>
                }
                <p class="reference" style="color: black;">{{ product.reference }}</p>

            </mat-card-content>
        </mat-card>
        }
    </div>
    } @else {
    <div class="empty-state">
        <mat-icon class="empty-icon">inventory</mat-icon>
        <p class="empty-text">Aucun produit disponible pour ce tiers</p>
    </div>
    } }
</div>